var a=Object.defineProperty;var c=(o,e,t)=>e in o?a(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var r=(o,e,t)=>(c(o,typeof e!="symbol"?e+"":e,t),t);const d="vampire-20-exp-counter",i=d;class u extends Application{constructor(){super(...arguments);r(this,"imageUrl","")}get title(){return game.i18n.localize("MYMODULE.dog-browser")}static get defaultOptions(){return foundry.utils.mergeObject(super.defaultOptions,{id:"dog-browser",template:`modules/${i}/templates/dogs.hbs`,width:720,height:720})}getData(){return{imageUrl:this.imageUrl}}activateListeners(t){super.activateListeners(t),t.find("button.module-control").on("click",this._onClickControlButton.bind(this))}async _onClickControlButton(t){switch(t.preventDefault(),t.currentTarget.dataset.action){case"randomize-dog":this._randomizeDog();break}}async _randomizeDog(){var s;const t=await fetch("https://dog.ceo/api/breeds/image/random");if(t.status!=200){(s=ui.notifications)==null||s.error(`Unexpected response fetching new dog image: ${t.status}: ${t.statusText}`);return}this.imageUrl=(await t.json()).message,this.render()}}class l extends Application{}let n;Hooks.once("init",()=>{console.log(`Initializing ${i}`),n=game.modules.get(i),n.dogBrowser=new u,n.experienceCounter=new l});Hooks.on("renderActorDirectory",(o,e)=>{const t=$('<button class="cc-sidebar-button" type="button">\u{1F436}</button>');t.on("click",()=>{n.dogBrowser.render(!0)}),e.find(".directory-header .action-buttons").append(t)});
//# sourceMappingURL=module.js.map
