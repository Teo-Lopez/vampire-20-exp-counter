var a=Object.defineProperty;var c=(o,t,e)=>t in o?a(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var i=(o,t,e)=>(c(o,typeof t!="symbol"?t+"":t,e),e);const d="vampire-20-exp-counter",r=d;class l extends Application{constructor(){super(...arguments);i(this,"imageUrl","")}get title(){return game.i18n.localize("MYMODULE.dog-browser")}static get defaultOptions(){return foundry.utils.mergeObject(super.defaultOptions,{id:"dog-browser",template:`modules/${r}/templates/dogs.hbs`,width:720,height:720})}getData(){return{imageUrl:this.imageUrl}}activateListeners(e){super.activateListeners(e),e.find("button.module-control").on("click",this._onClickControlButton.bind(this))}async _onClickControlButton(e){switch(e.preventDefault(),e.currentTarget.dataset.action){case"randomize-dog":this._randomizeDog();break}}async _randomizeDog(){var n;const e=await fetch("https://dog.ceo/api/breeds/image/random");if(e.status!=200){(n=ui.notifications)==null||n.error(`Unexpected response fetching new dog image: ${e.status}: ${e.statusText}`);return}this.imageUrl=(await e.json()).message,this.render()}}class u extends Application{}let s;Hooks.once("init",()=>{console.log(`Initializing ${r}`),s=game.modules.get(r),s.dogBrowser=new l,s.experienceCounter=new u});Hooks.on("renderActorDirectory",(o,t)=>{const e=$('<button class="cc-sidebar-button" type="button">\u{1F436}</button>');e.on("click",()=>{s.dogBrowser.render(!0)}),t.find(".directory-header .action-buttons").append(e)});Hooks.on("updateActor",(o,t,e,n)=>{console.log("actor",o),console.log("changed",t),console.log("options",e),console.log("userId",n)});
//# sourceMappingURL=module.js.map
