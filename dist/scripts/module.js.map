{"version":3,"file":"module.js","sources":["../../src/ts/constants.ts","../../src/ts/apps/dogBrowser.ts","../../src/ts/apps/experienceCounter.ts","../../src/ts/module.ts"],"sourcesContent":["import { id } from \"../module.json\";\n\nexport const moduleId = id;\n","import { moduleId } from '../constants';\n\nexport default class DogBrowser extends Application {\n  private imageUrl? = '';\n\n  override get title(): string {\n    return (game as Game).i18n!.localize('MYMODULE.dog-browser');\n  }\n\n  static override get defaultOptions(): ApplicationOptions {\n    return foundry.utils.mergeObject(super.defaultOptions, {\n      id: 'dog-browser',\n      template: `modules/${moduleId}/templates/dogs.hbs`,\n      width: 720,\n      height: 720,\n    }) as ApplicationOptions;\n  }\n\n  override getData() {\n    return {\n      imageUrl: this.imageUrl,\n    };\n  }\n\n  override activateListeners(html: JQuery<HTMLElement>): void {\n    super.activateListeners(html);\n    html.find('button.module-control').on('click', this._onClickControlButton.bind(this));\n  }\n\n  async _onClickControlButton(event: Event): Promise<void> {\n    event.preventDefault();\n    const button = event.currentTarget as HTMLElement;\n    const action = button.dataset.action;\n    // const module = (game as Game).modules.get(moduleName) as MyModule;\n\n    switch (action) {\n      case 'randomize-dog':\n        this._randomizeDog();\n        break;\n    }\n  }\n\n  async _randomizeDog() {\n    const response = await fetch('https://dog.ceo/api/breeds/image/random');\n    if (response.status != 200) {\n      ui.notifications?.error(`Unexpected response fetching new dog image: ${response.status}: ${response.statusText}`);\n      return;\n    }\n    this.imageUrl = (await response.json()).message;\n    this.render();\n  }\n}\n","export default class ExperienceCounter extends Application {}\n","// Do not remove this import. If you do Vite will think your styles are dead\n// code and not include them in the build output.\nimport '../styles/style.scss';\nimport DogBrowser from './apps/dogBrowser';\nimport ExperienceCounter from './apps/experienceCounter';\nimport { moduleId } from './constants';\nimport { MyModule } from './types';\n\nlet module: MyModule;\n\nHooks.once('init', () => {\n  console.log(`Initializing ${moduleId}`);\n  //moduleId \"vampire-20-exp-counter\"\n  module = (game as Game).modules.get(moduleId) as unknown as MyModule;\n  module.dogBrowser = new DogBrowser();\n  module.experienceCounter = new ExperienceCounter();\n});\n\nHooks.on('renderActorDirectory', (_: Application, html: JQuery) => {\n  const button = $(`<button class=\"cc-sidebar-button\" type=\"button\">üê∂</button>`);\n  button.on('click', () => {\n    module.dogBrowser.render(true);\n  });\n  html.find('.directory-header .action-buttons').append(button);\n});\n"],"names":["moduleId","id","DogBrowser","__publicField","html","event","response","_a","ExperienceCounter","module","_","button"],"mappings":"yMAEaA,EAAWC,ECAxB,MAAqBC,UAAmB,WAAY,CAApD,kCACUC,EAAA,gBAAY,IAEpB,IAAa,OAAgB,CACnB,OAAA,KAAc,KAAM,SAAS,sBAAsB,CAC7D,CAEA,WAAoB,gBAAqC,CACvD,OAAO,QAAQ,MAAM,YAAY,MAAM,eAAgB,CACrD,GAAI,cACJ,SAAU,WAAWH,uBACrB,MAAO,IACP,OAAQ,GAAA,CACT,CACH,CAES,SAAU,CACV,MAAA,CACL,SAAU,KAAK,QAAA,CAEnB,CAES,kBAAkBI,EAAiC,CAC1D,MAAM,kBAAkBA,CAAI,EACvBA,EAAA,KAAK,uBAAuB,EAAE,GAAG,QAAS,KAAK,sBAAsB,KAAK,IAAI,CAAC,CACtF,CAEA,MAAM,sBAAsBC,EAA6B,CAMvD,OALAA,EAAM,eAAe,EACNA,EAAM,cACC,QAAQ,OAGd,CACd,IAAK,gBACH,KAAK,cAAc,EACnB,KACJ,CACF,CAEA,MAAM,eAAgB,OACd,MAAAC,EAAW,MAAM,MAAM,yCAAyC,EAClE,GAAAA,EAAS,QAAU,IAAK,EAC1BC,EAAA,GAAG,gBAAH,MAAAA,EAAkB,MAAM,+CAA+CD,EAAS,WAAWA,EAAS,cACpG,MACF,CACA,KAAK,UAAY,MAAMA,EAAS,KAAA,GAAQ,QACxC,KAAK,OAAO,CACd,CACF,CCnDA,MAAqBE,UAA0B,WAAY,CAAC,CCQ5D,IAAIC,EAEJ,MAAM,KAAK,OAAQ,IAAM,CACf,QAAA,IAAI,gBAAgBT,GAAU,EAE5BS,EAAA,KAAc,QAAQ,IAAIT,CAAQ,EACrCS,EAAA,WAAa,IAAIP,EACjBO,EAAA,kBAAoB,IAAID,CACjC,CAAC,EAED,MAAM,GAAG,uBAAwB,CAACE,EAAgBN,IAAiB,CAC3D,MAAAO,EAAS,EAAE,oEAA6D,EACvEA,EAAA,GAAG,QAAS,IAAM,CAChBF,EAAA,WAAW,OAAO,EAAI,CAAA,CAC9B,EACDL,EAAK,KAAK,mCAAmC,EAAE,OAAOO,CAAM,CAC9D,CAAC"}